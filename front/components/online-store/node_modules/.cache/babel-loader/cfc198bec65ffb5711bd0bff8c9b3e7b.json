{"ast":null,"code":"var _jsxFileName = \"/home/mihail/Documents/portfolio_v2/front/components/online-store/src/pages/Auth.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Card, Form, Row } from \"react-bootstrap\";\nimport '../styles/auth.css';\nimport { NavLink, useLocation, useNavigate } from 'react-router-dom';\nimport { LOGIN_ROUTE, SHOP_ROUTE } from \"../utils/consts\";\nimport { login, registration } from \"../http/userAPI\";\nimport { useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useContext } from \"react\";\nimport { Context } from \"../index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Auth = _s(observer(_c = _s(() => {\n  _s();\n\n  const {\n    user\n  } = useContext(Context);\n  const location = useLocation();\n  const history = useNavigate();\n  const isLogin = location.pathname === LOGIN_ROUTE;\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const click = async () => {\n    try {\n      let data;\n\n      if (isLogin) {\n        data = await login(email, password);\n      } else {\n        data = await registration(email, password);\n      }\n\n      user.setUser(user);\n      user.setIsAuth(true);\n      history(SHOP_ROUTE);\n    } catch (e) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth_container\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"authorization\",\n        children: isLogin ? \"AUTHORIZATION\" : \"REGISTRATION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"email\",\n          placeholder: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"password\",\n          placeholder: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"sign_in\",\n            onClick: click,\n            children: isLogin ? \"LOG IN\" : \"REGISTRATION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 16\n          }, this), isLogin ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no_account\",\n            children: [\"no account ? \", /*#__PURE__*/_jsxDEV(NavLink, {\n              className: \"link\",\n              to: \"/registration\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 22\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no_account\",\n            children: [\"have an account ? \", /*#__PURE__*/_jsxDEV(NavLink, {\n              className: \"link\",\n              to: \"/login\",\n              children: \"Log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 7\n  }, this);\n}, \"Z70kjWx2MjRAkC9tzUtzq1LtRDU=\", false, function () {\n  return [useLocation, useNavigate];\n})), \"Z70kjWx2MjRAkC9tzUtzq1LtRDU=\", false, function () {\n  return [useLocation, useNavigate];\n});\n\n_c2 = Auth;\nexport default Auth;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Auth$observer\");\n$RefreshReg$(_c2, \"Auth\");","map":{"version":3,"names":["React","Card","Form","Row","NavLink","useLocation","useNavigate","LOGIN_ROUTE","SHOP_ROUTE","login","registration","useState","observer","useContext","Context","Auth","user","location","history","isLogin","pathname","email","setEmail","password","setPassword","click","data","setUser","setIsAuth","e","target","value"],"sources":["/home/mihail/Documents/portfolio_v2/front/components/online-store/src/pages/Auth.js"],"sourcesContent":["import React from \"react\";\nimport { Card, Form, Row } from \"react-bootstrap\";\nimport '../styles/auth.css';\nimport { NavLink, useLocation, useNavigate } from 'react-router-dom';\nimport { LOGIN_ROUTE, SHOP_ROUTE } from \"../utils/consts\";\nimport { login, registration } from \"../http/userAPI\";\nimport { useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useContext } from \"react\";\nimport { Context } from \"../index\";\n\nconst Auth = observer(() => {\n   const {user} = useContext(Context)\n   const location = useLocation()\n   const history = useNavigate()\n   const isLogin = location.pathname === LOGIN_ROUTE;\n   const [email, setEmail] = useState('')\n   const [password, setPassword] = useState('')   \n   const click = async() => {\n      try{\n         let data;\n         if(isLogin){\n            data = await login(email, password);\n         } else {\n            data = await registration(email, password);\n         }\n         user.setUser(user)\n         user.setIsAuth(true)\n         history(SHOP_ROUTE)\n      } catch (e) {\n      }\n   }\n\n   return(\n      <div className=\"auth_container\">\n         <Card className=\"card\">\n            <h2 className=\"authorization\">{isLogin ? \"AUTHORIZATION\" : \"REGISTRATION\"}</h2>\n            <Form className=\"form\">\n               <Form.Control className=\"email\" placeholder=\"email\" value={email} onChange={e => setEmail(e.target.value)}/>\n               <Form.Control className=\"password\" placeholder=\"password\" value={password} onChange={e => setPassword(e.target.value)} type=\"password\"/>\n               <Row className=\"buttons\">\n               <button className=\"sign_in\" onClick={click}>{isLogin ? \"LOG IN\" : \"REGISTRATION\"}</button>\n                  {isLogin ?\n                     <div className=\"no_account\">\n                        no account ? <NavLink className='link' to='/registration'>Register</NavLink>\n                     </div>\n                     :\n                     <div className=\"no_account\">\n                        have an account ? <NavLink className='link' to='/login'>Log in</NavLink>\n                     </div>\n                  }\n               </Row>\n            </Form>\n         </Card>\n      </div>\n   )\n})\n\nexport default Auth;"],"mappings":"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"},"metadata":{},"sourceType":"module"}